<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ”¶åˆ°ç¥ç¦</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/vant/lib/index.css"/>
    <script src="https://unpkg.com/vant/lib/vant.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* å®šä¹‰ä¸‰å¥—ä¸»é¢˜æ ·å¼ (Consistency æ ¸å¿ƒ) */
        
        /* ä¸»é¢˜1: é¸¿è¿ (Red) */
        .theme-red .card-body { background: linear-gradient(135deg, #ffcdd2 0%, #ffebee 100%); color: #b71c1c; border: 4px solid #d32f2f; }
        .theme-red .card-icon { background-color: #d32f2f; color: #fff; }
        
        /* ä¸»é¢˜2: é‡‘ç‰ (Gold) */
        .theme-gold .card-body { background: linear-gradient(135deg, #fff9c4 0%, #fffde7 100%); color: #f57f17; border: 4px solid #fbc02d; }
        .theme-gold .card-icon { background-color: #fbc02d; color: #fff; }
        
        /* ä¸»é¢˜3: æ°´å¢¨ (Ink) */
        .theme-ink .card-body { background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%); color: #424242; border: 4px solid #616161; }
        .theme-ink .card-icon { background-color: #616161; color: #fff; }

        /* è¿›åœºåŠ¨ç”» */
        .fade-enter-active, .fade-leave-active { transition: opacity 0.5s ease; }
        .fade-enter-from, .fade-leave-to { opacity: 0; }

        .pop-enter-active { animation: pop-in 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes pop-in {
            0% { opacity: 0; transform: scale(0.5) translateY(50px); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-900 min-h-screen">
    <div id="app" class="h-screen w-full flex flex-col items-center justify-center overflow-hidden relative">
        
        <div class="absolute inset-0 z-0">
             <div class="absolute top-0 left-0 w-full h-full bg-[url('https://cdn.pixabay.com/photo/2017/01/24/03/51/texture-2004557_1280.jpg')] opacity-10 bg-cover"></div>
        </div>

        <transition name="fade">
            <div v-if="!isOpen" class="z-10 text-center cursor-pointer" @click="openCard">
                <div class="animate-bounce mb-4">
                    <div class="w-64 h-48 bg-red-700 rounded-lg shadow-2xl relative flex items-center justify-center border-t-8 border-red-800">
                        <div class="text-6xl">ğŸ§§</div>
                        <div class="absolute -top-6 text-yellow-200 font-bold text-lg tracking-widest">
                            æ¥è‡ª {{ matchedData.nickname }}
                        </div>
                    </div>
                </div>
                <p class="text-white text-opacity-80 animate-pulse">ç‚¹å‡»æ‹†å¼€ç¥ç¦</p>
            </div>
        </transition>

        <transition name="pop">
            <div v-if="isOpen" class="z-20 w-full max-w-sm px-4">
                
                <div :class="currentStyle.cssClass" class="w-full rounded-2xl shadow-2xl overflow-hidden relative transform rotate-1">
                    
                    <div class="card-body p-8 min-h-[400px] flex flex-col relative">
                        <div class="card-icon w-12 h-12 rounded-full flex items-center justify-center text-2xl absolute -top-4 -right-4 shadow-md">
                            {{ currentStyle.icon }}
                        </div>

                        <div class="mt-4">
                            <h2 class="text-xl font-bold opacity-80">To: æœ‰ç¼˜äºº</h2>
                            <div class="w-full h-[1px] bg-current opacity-20 my-4"></div>
                            
                            <p class="text-lg leading-loose font-serif text-justify min-h-[120px]">
                                {{ matchedData.content }}
                            </p>
                            
                            <div class="mt-8 text-right">
                                <p class="text-xs opacity-60 uppercase">From</p>
                                <p class="text-xl font-bold">{{ matchedData.nickname }}</p>
                            </div>
                        </div>

                        <div class="absolute bottom-0 left-0 w-full h-2 bg-current opacity-20"></div>
                    </div>
                </div>

                <div class="mt-10 space-y-3">
                    <p class="text-center text-white/50 text-xs mb-4">æˆªå›¾å±å¹•å³å¯ä¿å­˜ç¥ç¦</p>
                    <van-button round block color="linear-gradient(to right, #ff6034, #ee0a24)" @click="goHome">
                        è¿”å›é¦–é¡µ
                    </van-button>
                </div>
            </div>
        </transition>

    </div>

    <script>
        const { createApp, ref, computed } = Vue;
        
        // æ ·å¼é…ç½®è¡¨ (éœ€ä¸å‘é€ç«¯ä¸€è‡´)
        const STYLES = {
            0: { cssClass: 'theme-red', icon: 'ğŸ®' },   // é¸¿è¿å½“å¤´
            1: { cssClass: 'theme-gold', icon: 'ğŸ’°' },  // é‡‘ç‰æ»¡å ‚
            2: { cssClass: 'theme-ink', icon: 'ğŸ”ï¸' }   // æ°´å¢¨ä¸¹é’
        };

        const app = createApp({
            setup() {
                const isOpen = ref(false);
                
                // æ¨¡æ‹Ÿä»åç«¯è·å–çš„æ•°æ® (åŒ…å« sender é€‰å®šçš„ style_id)
                const matchedData = ref({
                    nickname: "è¿ç»´ç»„-å¤§å«",
                    content: "ç¥ä½ åœ¨æ–°çš„ä¸€å¹´é‡Œï¼ŒæœåŠ¡å™¨æ°¸ä¸å®•æœºï¼Œä»£ç ä¸€æ¬¡è·‘é€šï¼Œå‘é™…çº¿ä¾ç„¶åšæŒºï¼æ–°å¹´å¿«ä¹ï¼",
                    style_id: 1 // å‡è®¾å‘é€è€…é€‰äº†â€œé‡‘ç‰æ»¡å ‚â€
                });

                // è®¡ç®—å½“å‰åº”å±•ç¤ºçš„æ ·å¼
                const currentStyle = computed(() => {
                    return STYLES[matchedData.value.style_id] || STYLES[0];
                });

                const openCard = () => {
                    // æ’­æ”¾éŸ³æ•ˆ(å¯é€‰)
                    isOpen.value = true;
                };

                const goHome = () => {
                    window.location.href = 'index.html';
                };

                return { 
                    isOpen, 
                    matchedData, 
                    currentStyle, 
                    openCard, 
                    goHome 
                };
            }
        });
        app.use(vant);
        app.mount('#app');
    </script>
</body>
</html>